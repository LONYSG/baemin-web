<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<th:block th:fragment="setContent(content)">

    <head>
        <!-- 블럭바 -->
        <div class="header">

            <!--로고-->
            <a class="logo" href="/main/index"><img src="/img/logo.png" /><span class="sr-only">(current)</span></a>

            <div class="button_container">
                <p class="description"></p>
                <button class="btn"><span>Google 로그인</span></button>
                <!--<p class="link">
          Design by
          <a href="https://dribbble.com/skytrip" target="_blank">SkyTrip</a>
        </p>-->
            </div>

            <div class="wrap">
                <div class="search">
                    <input type="text" class="searchTerm" placeholder="검색">
                    <button type="submit" class="searchButton">
                        <i class="fa fa-search"></i>
                    </button>
                </div>
            </div>

        </div>

        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="description" content="">
        <meta name="author" content="">

        <title>Simple Sidebar - Start Bootstrap Template</title>

        <!-- Bootstrap core CSS -->
        <link th:href="@{/vendor/bootstrap/css/bootstrap.min.css}" rel="stylesheet">

        <!-- Custom styles for this template -->
        <link th:href="@{/css/simple-sidebar.css}" rel="stylesheet">

        <!-- Bootstrap core JavaScript -->
        <script th:src="@{/vendor/jquery/jquery.min.js}"></script>
        <script th:src="@{/vendor/bootstrap/js/bootstrap.bundle.min.js}"></script>
        <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>

        <link th:href="@{/css/style.css?after}" rel="stylesheet">
        <link th:href="@{https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css}" rel="stylesheet">
        <link th:href="@{//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css}" rel="stylesheet" >


    </head>

    <body onload="checkCookie()">

    <div class="d-flex" id="wrapper">

        <!-- Page Content -->
        <div id="page-content-wrapper">

            <nav class="navbar navbar-expand-lg navbar-light bg-light border-bottom">

                <button class="navbar-toggler" type="button" data-toggle="collapse"
                        data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                        aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav ml-auto mt-2 mt-lg-0" style="margin-left:0px !important;">
                        <li class="nav-item active">
                            <a class="nav-link" href="/main/index">배달의 민족 <span class="sr-only">(current)</span></a>
                        </li>

                    </ul>
                    <ul>
                        <li>
                            <a th:href="@{/near/nearstore}">현재 위치 근처 가게 보기</a>
                        </li>
                        <li>
                            <input type="text" id="inputAddress" onclick="setCAddress()" placeholder="주소 입력.."
                                   readonly style="width: 400px">
                        </li>
                        <li>
                            <a th:href="@{/near/searchstore}">입력한 주소로 검색</a>
                        </li>
                    </ul>
                    <ul class="navbar-nav ml-auto mt-2 mt-lg-0">
                        <li class="nav-item active">
                            <button onclick="javascript:location.href='storeApi'">가게API</button>
                        </li>
                        <li class="nav-item active">
                            <button>로그아웃</button>
                        </li>
                        <li class="nav-item active">
                            <button>장바구니</button>
                        </li>
                        <li class="nav-item active">
                            <button>구글 아이디로 로그인</button>
                        </li>
                        <li class="nav-item active">
                            <input />
                        </li>
                    </ul>

                </div>
            </nav>

            <script th:inline="javascript">
                    function setCAddress() {
                        new daum.Postcode({
                            oncomplete: function (data) {
                                console.log(data.address);
                                $('#inputAddress').val(data.address);
                                setCookie("inputAddr", data.address, 30);
                            }
                        }).open();
                    }
                </script>

            <script th:inline="javascript">
                    function setCookie(cname, cvalue, exdays) {
                        var d = new Date();
                        d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));
                        var expires = "expires=" + d.toGMTString();
                        document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
                    }

                    function getCookie(cname) {
                        var name = cname + "=";
                        var decodedCookie = decodeURIComponent(document.cookie);
                        var ca = decodedCookie.split(';');
                        for (var i = 0; i < ca.length; i++) {
                            var c = ca[i];
                            while (c.charAt(0) == ' ') {
                                c = c.substring(1);
                            }
                            if (c.indexOf(name) == 0) {
                                return c.substring(name.length, c.length);
                            }
                        }
                        return "";
                    }

                    function checkCookie() {
                        var cAddress = getCookie("inputAddr");
                        if (cAddress != "") {
                            $('#inputAddress').val(cAddress);
                        } else {
                            if ($('#inputAddress').val() != "" && $('#inputAddress').val() != null) {
                                setCookie("inputAddr", $('#inputAddress').val(), 30);
                            }
                        }
                    }
                </script>

            <div class="container-fluid">

                <th:block th:replace="${content}"></th:block>

            </div>

        </div>
        <!-- /#page-content-wrapper -->

    </div>
    <!-- /#wrapper -->

    </body>

</th:block>

</html>